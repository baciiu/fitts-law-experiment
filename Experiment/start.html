<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>Fitts Law - Two Dimensional Touch</title>
    <link rel="stylesheet" href="style.css">   

</head>
<body>
  
  <div id="currentTrialText">Trial No.:  </div>
  <div id="currentTrialIndex">  </div>
  <div id="totalTrialsText">Total Trials: </div>
  <div id="totalTrialsIndex">  </div>
  <div id="trialsToBreakText">Next Break in <p id="trialsToBreakIndex">  </p> &emsp; &emsp; trials </div>

  <canvas id="trialCanvas" width="800" height="600"></canvas>


      <!-- Break Window Modal -->
    <div id="breakWindow" class="modal">
      <div class="modal-content">
        <p>Take a break! Press continue when you are ready</p>
        <button id="continueButton" autofocus style="margin-right:80px; font-size: 20px; font-weight: bold; margin-top:10px; width:220px; height:50px; background-color:#1adf24; color: #000000; 
        border-radius:10px; transition-duration: 0.4s;">Continue</button>
      </div>
    </div>

    <!-- Start Window Modal -->
    <div id="startWindow" class="modal">
      <div class="modal-content">
        <p>Press start once you are ready</p>
        <button id="startButton" style="margin-right:80px; font-size: 20px; font-weight: bold; margin-top:10px; width:220px; height:50px; background-color:#1adf24; color: #000000; 
        border-radius:10px; transition-duration: 0.4s;">Start</button>
      </div>
    </div>

    <!-- Calling Javascript sources -->
    <script src="Trial.js">  </script>
    <script src="Block.js">  </script>
    <script src="Experiment.js">  </script>
    <script src="STRectsDrawing.js">  </script>
    <script src="ExpirementFrame.js"> </script>
    <script src="Support.js"> </script>
    <script>
    //experiment.printBlock();
    const experimentFrame= new ExperimentFrame();

    // Function to show the start window
        function showStartWindow() {
    // Get the break window modal
        const startWindow = document.getElementById('startWindow');
    // Show the modal
        startWindow.style.display = 'block';
    // Disable the rest of the page interaction while the start window is visible
        document.body.style.pointerEvents = 'none';
  }

      // Function to start the experiment in full-screen mode
  function startExperiment() {
    // Hide the start window
    const startWindow = document.getElementById('startWindow');
    startWindow.style.display = 'none';
    
    // Enable the page interaction again
    document.body.style.pointerEvents = 'auto';
    
    // Request full-screen mode for the document body
    const docBody = document.documentElement;
    if (docBody.requestFullscreen) {
      docBody.requestFullscreen();
    } else if (docBody.mozRequestFullScreen) {
      docBody.mozRequestFullScreen();
    } else if (docBody.webkitRequestFullscreen) {
      docBody.webkitRequestFullscreen();
    } else if (docBody.msRequestFullscreen) {
      docBody.msRequestFullscreen();
    }
    
    // Start the experiment
    experimentFrame.showTrial();
  }
  
  // Event listener for the start button
  const startButton = document.getElementById('startButton');
  startButton.addEventListener('click', startExperiment);
  
  // Show the start window
  showStartWindow();
    
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    
   
    
</body>
</html>